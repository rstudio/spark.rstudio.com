<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Manage Spark Connections — spark-connections • sparklyr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Manage Spark Connections — spark-connections" />
<meta property="og:description" content="These routines allow you to manage your connections to Spark." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sparklyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sparklyr/sparklyr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Manage Spark Connections</h1>
    <small class="dont-index">Source: <a href='https://github.com/sparklyr/sparklyr/blob/master/R/connection_spark.R'><code>R/connection_spark.R</code></a>, <a href='https://github.com/sparklyr/sparklyr/blob/master/R/spark_submit.R'><code>R/spark_submit.R</code></a></small>
    <div class="hidden name"><code>spark-connections.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These routines allow you to manage your connections to Spark.</p>
    </div>

    <pre class="usage"><span class='fu'>spark_connect</span>(
  <span class='no'>master</span>,
  <span class='kw'>spark_home</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"SPARK_HOME"</span>),
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"shell"</span>, <span class='st'>"livy"</span>, <span class='st'>"databricks"</span>, <span class='st'>"test"</span>, <span class='st'>"qubole"</span>),
  <span class='kw'>app_name</span> <span class='kw'>=</span> <span class='st'>"sparklyr"</span>,
  <span class='kw'>version</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>config</span> <span class='kw'>=</span> <span class='fu'><a href='spark_config.html'>spark_config</a></span>(),
  <span class='kw'>extensions</span> <span class='kw'>=</span> <span class='kw pkg'>sparklyr</span><span class='kw ns'>::</span><span class='fu'><a href='register_extension.html'>registered_extensions</a></span>(),
  <span class='kw'>packages</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>scala_version</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)

<span class='fu'>spark_connection_is_open</span>(<span class='no'>sc</span>)

<span class='fu'>spark_disconnect</span>(<span class='no'>sc</span>, <span class='no'>...</span>)

<span class='fu'>spark_disconnect_all</span>()

<span class='fu'>spark_submit</span>(
  <span class='no'>master</span>,
  <span class='no'>file</span>,
  <span class='kw'>spark_home</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv</a></span>(<span class='st'>"SPARK_HOME"</span>),
  <span class='kw'>app_name</span> <span class='kw'>=</span> <span class='st'>"sparklyr"</span>,
  <span class='kw'>version</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>config</span> <span class='kw'>=</span> <span class='fu'><a href='spark_config.html'>spark_config</a></span>(),
  <span class='kw'>extensions</span> <span class='kw'>=</span> <span class='kw pkg'>sparklyr</span><span class='kw ns'>::</span><span class='fu'><a href='register_extension.html'>registered_extensions</a></span>(),
  <span class='kw'>scala_version</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>master</th>
      <td><p>Spark cluster url to connect to. Use <code>"local"</code> to
connect to a local instance of Spark installed via
<code><a href='spark_install.html'>spark_install</a></code>.</p></td>
    </tr>
    <tr>
      <th>spark_home</th>
      <td><p>The path to a Spark installation. Defaults to the path
provided by the <code>SPARK_HOME</code> environment variable. If
<code>SPARK_HOME</code> is defined, it will always be used unless the
<code>version</code> parameter is specified to force the use of a locally
installed version.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The method used to connect to Spark. Default connection method
is <code>"shell"</code> to connect using spark-submit, use <code>"livy"</code> to
perform remote connections using HTTP, or <code>"databricks"</code> when using a
Databricks clusters.</p></td>
    </tr>
    <tr>
      <th>app_name</th>
      <td><p>The application name to be used while running in the Spark
cluster.</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p>The version of Spark to use. Required for <code>"local"</code> Spark
connections, optional otherwise.</p></td>
    </tr>
    <tr>
      <th>config</th>
      <td><p>Custom configuration for the generated Spark connection. See
<code><a href='spark_config.html'>spark_config</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>extensions</th>
      <td><p>Extension R packages to enable for this connection. By
default, all packages enabled through the use of
<code><a href='register_extension.html'>sparklyr::register_extension</a></code> will be passed here.</p></td>
    </tr>
    <tr>
      <th>packages</th>
      <td><p>A list of Spark packages to load. For example, <code>"delta"</code> or
<code>"kafka"</code> to enable Delta Lake or Kafka. Also supports full versions like
<code>"io.delta:delta-core_2.11:0.4.0"</code>. This is similar to adding packages into the
<code>sparklyr.shell.packages</code> configuration option. Notice that the <code>version</code>
parameter is used to choose the correct package, otherwise assumes the latest version
is being used.</p></td>
    </tr>
    <tr>
      <th>scala_version</th>
      <td><p>Load the sparklyr jar file that is built with the version of
Scala specified (this currently only makes sense for Spark 2.4, where sparklyr will
by default assume Spark 2.4 on current host is built with Scala 2.11, and therefore
`scala_version = '2.12'` is needed if sparklyr is connecting to Spark 2.4 built with
Scala 2.12)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional arguments; currently unused.</p></td>
    </tr>
    <tr>
      <th>sc</th>
      <td><p>A <code>spark_connection</code>.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>Path to R source file to submit for batch execution.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When using <code>method = "livy"</code>, jars are downloaded from GitHub but the path
to a local <code>sparklyr</code> JAR can also be specified through the <code>livy.jars</code> setting.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>sc</span> <span class='kw'>&lt;-</span> <span class='fu'>spark_connect</span>(<span class='kw'>master</span> <span class='kw'>=</span> <span class='st'>"spark://HOST:PORT"</span>)
<span class='fu'><a href='connection_is_open.html'>connection_is_open</a></span>(<span class='no'>sc</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='fu'>spark_disconnect</span>(<span class='no'>sc</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Javier Luraschi, Kevin Kuo, Kevin Ushey, JJ Allaire, Hossein Falaki, Lu Wang, Andy Zhang, Yitao Li,  The Apache Software Foundation.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


