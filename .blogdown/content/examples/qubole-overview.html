---
title: "Using sparklyr with Qubole"
output:
  html_document:
    toc: true
    toc_depth: 3
    toc_float:
      collapsed: false
params:
  width: 600
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>This documentation demonstrates how to use <code>sparklyr</code> with Apache Spark in
Qubole along with <a href="https://rstudio.com/products/rstudio-server-pro/">RStudio Server
Pro</a> and <a href="https://rstudio.com/products/connect/">RStudio
Connect</a>.</p>
</div>
<div id="best-practices-for-working-with-qubole" class="section level2">
<h2>Best practices for working with Qubole</h2>
<ul>
<li><strong>Manage packages via Qubole Environments</strong> - Packages installed via
<code>install.packages()</code> are not available on cluster restart. Packages managed
through <a href="https://docs.qubole.com/en/latest/user-guide/package-management/new-pm-ui.html">Qubole
Environments</a>
are persistent.</li>
<li><strong>Restrict workloads to interactive analysis</strong> - Only perform workloads
related to exploratory or interactive analysis with Spark, then write the
results to a database, file system, or cloud storage for more efficient
retrieval in apps, reports, and APIs.</li>
<li><strong>Load and query results efficiently</strong> - Because of the nature of Spark
computations and the associated overhead, Shiny apps that use Spark on the
backend tend to have performance and runtime issues; consider reading the
results from a database, file system, or cloud storage instead.</li>
</ul>
</div>
<div id="using-rstudio-server-pro-with-qubole" class="section level2">
<h2>Using RStudio Workbench with Qubole</h2>
<p>The Qubole platform includes RStudio Workbench. More details about how to
request RStudio Workbench and access it from within a Qubole cluster are
available <a href="https://docs.qubole.com/en/latest/user-guide/engines/spark/rstudio_spark.html">from
Qubole</a>.</p>
<a href="/examples/qubole-cluster">
<h2>
View steps for running RStudio Workbench inside Qubole
</h2>
<p></a></p>
<p><a href="/examples/qubole-cluster">
<img src="/images/deployment/qubole/rstudio-qubole.png" width='800px' align='center'/>
</a></p>
</div>
<div id="using-rstudio-connect-with-qubole" class="section level2">
<h2>Using RStudio Connect with Qubole</h2>
<p>The best configuration for working with Qubole and RStudio Connect is to install
RStudio Connect outside of the Qubole cluster and connect to Qubole remotely.
This is accomplished using the <a href="https://docs.qubole.com/en/latest/connectivity-options/use-qubole-drivers/ODBC-driver-linux/index.html">Qubole ODBC
Driver</a>.</p>
<p><img src="/images/deployment/qubole/rstudio-connect-qubole.png" width='800px' align='center'/></p>
</div>
